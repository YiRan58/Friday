webpackJsonp([1],{"3WZo":function(e,t){},"7jTy":function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=r("VU/8")({name:"App"},n,!1,function(e){r("cpTD")},null,null).exports,o=r("/ocq"),c=r("C6wW"),i=r.n(c),u={name:"HomePage",data:function(){return{formInline:{user:"",password:"",checkcode:"",uuid:""},ruleInline:{user:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{type:"string",min:4,message:"密码长度不小于4位",trigger:"blur"}],checkcode:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},created:function(){var e=this.getUuid();this.changeCheck(e)},methods:{getUuid:function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var r=e.join("");return this.uuid=r,r},handleSubmit:function(e){var t={username:e.user,password:e.password,uuid:this.uuid,text:e.checkcode};if(""!=t.username&&""!=t.password&&""!=t.text)if(t.password.length<4)this.$Message.error("密码长度不小于4位数 !");else{var r=this;i.a.post("http://192.168.1.59:9003/login",t,{},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e.data),0===e.data.code?(r.$Message.success("登录成功 !"),r.$router.push({name:"Result",params:{username:t.username}})):(r.$Message.error(e.data.errMsg),r.changeCheck(r.getUuid()))})}else this.$Message.error("表单数据请填写完整 !")},createMiniQrcode:function(e){var t=document.createElement("img");t.onload=function(e){window.URL.revokeObjectURL(t.src)},t.src=window.URL.createObjectURL(e),document.querySelector("#checkImg").src=t.src},changeCheck:function(e){var t=this,r="http://192.168.1.59:9003/captcha/"+e;i.a.get(r,{responseType:"blob"},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e),t.createMiniQrcode(e.data)})}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("Layout",{staticClass:"wrap"},[r("Layout",[r("Header",[r("h2",[e._v("登录")])]),e._v(" "),r("div",{staticClass:"form-wrap"},[r("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline}},[r("FormItem",{attrs:{prop:"user"}},[r("Input",{attrs:{type:"text",placeholder:"用户名"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),r("FormItem",{attrs:{prop:"password"}},[r("Input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.formInline.password,callback:function(t){e.$set(e.formInline,"password",t)},expression:"formInline.password"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),e._v(" "),r("FormItem",{attrs:{prop:"checkcode"}},[r("Input",{attrs:{type:"text",placeholder:"验证码"},model:{value:e.formInline.checkcode,callback:function(t){e.$set(e.formInline,"checkcode",t)},expression:"formInline.checkcode"}})],1),e._v(" "),r("div",{staticClass:"checkArea"},[r("img",{attrs:{id:"checkImg",alt:"验证码"}}),e._v(" "),r("a",{staticClass:"tips",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.changeCheck(e.getUuid())}}},[e._v("看不清？换一张")])]),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary",long:""},on:{click:function(t){return e.handleSubmit(e.formInline)}}},[e._v("立即登录")]),e._v(" "),r("router-link",{attrs:{to:"/Register"}},[r("a",{staticClass:"registerTip",attrs:{href:"#"}},[e._v("立即注册")])])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var d=r("VU/8")(u,l,!1,function(e){r("bNyK")},"data-v-69c81032",null).exports,p=r("Xxa5"),m=r.n(p),f=r("exGp"),h=r.n(f),g={name:"Register",data:function(){var e,t=this;return{formInline:{user:"",password:"",password1:"",checkcode:"",uuid:""},ruleInline:{user:[{required:!0,message:"请输入用户名",trigger:"blur"},{whitespace:!0,message:"请勿输入空白字符"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{type:"string",min:4,message:"密码长度不小于4位",trigger:"blur"},{whitespace:!0,message:"请勿输入空白字符",trigger:"blur"}],password1:[{required:!0,message:"请再次输入密码",trigger:"blur"},{required:!0,validator:(e=h()(m.a.mark(function e(r,s,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.formInline.password==t.formInline.password1){e.next=4;break}return e.abrupt("return",n(new message("两次输入密码不一致！")));case 4:n();case 5:case"end":return e.stop()}},e,t)})),function(t,r,s){return e.apply(this,arguments)}),message:"两次输入密码不一致",trigger:"blur"}],checkcode:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},created:function(){var e=this.getUuid();this.changeCheck(e)},methods:{getUuid:function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var r=e.join("");return this.uuid=r,r},handleSubmit:function(e){var t={username:e.user,password:e.password,uuid:this.uuid,text:e.checkcode};if(""!=t.username&&""!=t.password&&""!=e.password1&&""!=t.text)if(t.password.length<4)this.$Message.error("密码长度不小于4位数 !");else if(t.password===e.password1){var r=this;i.a.post("http://192.168.1.59:9003/new",t,{},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e.data),0===e.data.code?(r.$Message.success("注册成功，返回登录页面 !"),r.$router.push({path:"/"})):(r.$Message.error(e.data.errMsg),r.changeCheck(r.getUuid()))})}else this.$Message.error("两次输入密码不一致 !");else this.$Message.error("表单数据请填写完整 !")},createMiniQrcode:function(e){var t=document.createElement("img");t.onload=function(e){window.URL.revokeObjectURL(t.src)},t.src=window.URL.createObjectURL(e),document.querySelector("#checkImg").src=t.src},changeCheck:function(e){var t=this,r="http://192.168.1.59:9003/captcha/"+e;i.a.get(r,{responseType:"blob"},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e),t.createMiniQrcode(e.data)})}}},v={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("Layout",{staticClass:"wrap"},[r("Layout",[r("Header",[r("h2",[e._v("用户注册")])]),e._v(" "),r("div",{staticClass:"form-wrap"},[r("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline}},[r("FormItem",{attrs:{prop:"user"}},[r("Input",{attrs:{type:"text",placeholder:"用户名"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),r("FormItem",{attrs:{prop:"password"}},[r("Input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.formInline.password,callback:function(t){e.$set(e.formInline,"password",t)},expression:"formInline.password"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),e._v(" "),r("FormItem",{attrs:{prop:"password1"}},[r("Input",{attrs:{type:"password",placeholder:"再次输入密码"},on:{change:function(t){return e.checkPassword()}},model:{value:e.formInline.password1,callback:function(t){e.$set(e.formInline,"password1",t)},expression:"formInline.password1"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),e._v(" "),r("FormItem",{attrs:{prop:"checkcode"}},[r("Input",{attrs:{type:"text",placeholder:"验证码"},model:{value:e.formInline.checkcode,callback:function(t){e.$set(e.formInline,"checkcode",t)},expression:"formInline.checkcode"}})],1),e._v(" "),r("div",{staticClass:"checkArea"},[r("img",{attrs:{id:"checkImg",alt:"验证码"}}),e._v(" "),r("a",{staticClass:"tips",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.changeCheck(e.getUuid())}}},[e._v("看不清？换一张")])]),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary",long:""},on:{click:function(t){return e.handleSubmit(e.formInline)}}},[e._v("立即注册")]),e._v(" "),r("router-link",{attrs:{to:"/"}},[r("a",{staticClass:"registerTip",attrs:{href:"#"}},[e._v("立即登录")])])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var w=r("VU/8")(g,v,!1,function(e){r("7jTy")},"data-v-c8012752",null).exports,I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h2",[this._v(" "+this._s(this.username)+",登录成功! ")])])},staticRenderFns:[]};var k=r("VU/8")({name:"Result",data:function(){return{username:""}},created:function(){this.username=this.$route.params.username}},I,!1,function(e){r("bDSB")},"data-v-24aefb09",null).exports;s.default.use(o.a);var b=new o.a({routes:[{path:"/",name:"HomePage",component:d},{path:"/register",name:"Register",component:w},{path:"/Result",name:"Result",component:k}]}),y=r("9D74"),_=r.n(y);r("3WZo");s.default.config.productionTip=!1,s.default.use(_.a),new s.default({el:"#app",router:b,components:{App:a},template:"<App/>"})},bDSB:function(e,t){},bNyK:function(e,t){},cpTD:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.3ff08c352eef2a494dea.js.map